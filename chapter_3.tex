%!TEX root = algebraische_geometrie_2.tex
% vim: tw=0 noet sts=8 sw=8

\chapter{Modulgarben auf geringten Räumen}

\nextmark{(Garbe von) OX-Modul(n), Morphismus von OX-Moduln}
\begin{defn}
	Sei $(X,\mathcal{O}_X)$ ein geringter Raum. Eine \textbf{Garbe von} $\mathcal{O}_X$\textbf{-Moduln} (oder einfach ein $\mathcal{O}_X$\textbf{-Modul}) ist eine Garbe $\mathcal{F}$ von abelschen Gruppen auf $X$, die Folgendes erfüllt:
	\begin{enumerate}[i)]
		\item Für $U \subseteq X$ offen ist $\mathcal{F}(U)$ ein $\mathcal{O}_X(U)$-Modul.
		\item Für offene $U \subseteq V \subseteq X$ ist die Restriktionsabbildung
		\[
			\rho_{VU}^{\mathcal{F}}\colon \mathcal{F}(V) \to \mathcal{F}(U)
		\]
		verträglich mit der Modulstruktur bezüglich
		\[
			\rho_{VU}\colon \mathcal{O}_X(V) \to \mathcal{O}_X(U),
		\]
		das heißt es gilt
		\[
			\rho_{VU}^\mathcal{F}(\lambda \cdot \alpha) = \rho_{VU}(\lambda) \cdot \rho_{VU}^\mathcal{F}(\alpha)
		\]
		für alle $\alpha \in \mathcal{F}(V)$ und $\lambda \in \mathcal{O}_X(V)$.
	\end{enumerate}
	Ein \textbf{Morphismus von} $\mathcal{O}_X$\textbf{-Moduln} (oder $\mathcal{O}_X$\textbf{-linearer Morphismus}) ist ein Garbenmorphismus $\mathcal{F}\to \mathcal{G}$, wobei $\mathcal{F}(U) \to \mathcal{G}(U)$ für alle $U$ offen in $X$ ein $\mathcal{O}_X(U)$-Modulhomomorphismus ist. Wir bezeichnen die Kategorie  der $\mathcal{O}_X$-Moduln mit $(\mathcal{O}_X\text{-}{\Mod})$ und setzen
	\[
		\Hom_{\mathcal{O}_X}(\mathcal{F},\mathcal{G}) \coloneqq
                \Hom_{(\mathcal{O}_X\text{-}{\Mod})}(\mathcal{F},\mathcal{G}).
	\]
\end{defn}

\nextmark{Exaktheit von Sequenzen von OX-Moduln, OX-Hom, Restklassenkörper, Faser}
\begin{bem}
	Sei $(X, \mathcal{O}_X)$ ein geringter Raum.
	\begin{enumerate}[i)]
		\item Sei $\varphi\colon \mathcal{F} \to \mathcal{G}$ ein $\mathcal{O}_X$-Modulmorphismus. In Aufgabe~1.4 wurden für den zugehörigen Garbenmorphismus die Garben $\ker(\varphi)$ und $\im(\varphi)$ auf $X$ definiert. Diese sind auf kanonische Weise $\mathcal{O}_X$-Moduln.
		\item Ist $\mathcal{F}'$ eine Untergrabe von $\mathcal{O}_X$-Moduln des $\mathcal{O}_X$-Moduls $\mathcal{F}$, so ist die Quotientengarbe $\mathcal{F}/\mathcal{F}'$ (nach Garbifizierung) ebenfalls ein $\mathcal{O}_X$-Modul.
		\item Das direkte Produkt, die direkte Summe (hier wird garbifiziert) und der direkte Limes von $\mathcal{O}_X$-Moduln haben wieder die Struktur eines $\mathcal{O}_X$-Moduls.
		\item Eine Sequenz
		\[
			\cdots \to \mathcal{F}_{i+1} \overset{\varphi_{i+1}}{\longto} \mathcal{F}_i \overset{\varphi_{i}}{\longto} \mathcal{F}_{i-1} \to \cdots
		\]
		von $\mathcal{O}_X$-Moduln heißt \textbf{exakt}, wenn die zugehörige Sequenz von Garben exakt ist, das heißt für alle $i \in \Z$ gilt
		\[
			\im(\varphi_{i+1}) =  \ker(\varphi_i).
		\]
		\item Sei $\mathcal{F}$ ein $\mathcal{O}_X$-Modul und $U \subseteq X$ offen. Dann ist $\mathcal{F}\vert_U$ ein $\mathcal{O}_X\vert_U$-Modul. Seien $\mathcal{F}$ und $\mathcal{G}$ zwei Garben abelscher Gruppen auf $X$. In Aufgabe~2.2 wurde gezeigt, dass die Prägarbe
		\[
			U \mapsto \Hom_{\Sh(X)}(\mathcal{F}\vert_U,\mathcal{G}\vert_U)
		\]
		bereits eine Garbe $\underline{\Hom}(\mathcal{F},\mathcal{G})$ ist. Sind $\mathcal{F}$ und $\mathcal{G}$ zwei $\mathcal{O}_X$-Moduln, so wird durch
		\[
			U \mapsto \Hom_{\mathcal{O}_X\vert_U}(\mathcal{F}\vert_U,\mathcal{G}\vert_U)
		\]
		eine Untergarbe $\underline{\Hom}_{\mathcal{O}_X}(\mathcal{F},\mathcal{G})$ von $\underline{\Hom}(\mathcal{F},\mathcal{G})$ definiert, welche ebenfalls die Struktur eines $\mathcal{O}_X$-Moduls trägt.
		\item Ist $(X, \mathcal{O}_X)$ lokal geringt, $\mathcal{F}$ ein $\mathcal{O}_X$-Modul und $p\in X$, so ist der Halm $\mathcal{F}_p$ ein $\mathcal{O}_{X,p}$-Modul. Sei
		\[
			\kappa(p) \coloneqq \mathcal{O}_{X,p}/\mathfrak{m}_p
		\]
		der \textbf{Restklassenkörper} von $p$. Dann heißt der $\kappa(p)$-Vektorraum
		\[
			\mathcal{F}(p) \coloneqq \mathcal{F}_p \otimes_{\mathcal{O}_{X,p}} \kappa(p)
		\]
		die \textbf{Faser} von $\mathcal{F}$ in $p$.
	\end{enumerate}
\end{bem}

\nextmark{(lokal) freier OX-Modul, Rang, invertierbare Garbe}
\begin{defn}
	Sei $(X, \mathcal{O}_X)$ ein lokal geringter Raum.
	\begin{enumerate}[i)]
		\item Ein $\mathcal{O}_X$-Modul $\mathcal{F}$ heißt \textbf{frei}, falls $\mathcal{F} \cong \bigoplus_{i\in I}\mathcal{O}_X$ gilt.
		\item Ein $\mathcal{O}_X$-Modul $\mathcal{F}$ heißt \textbf{lokal frei}, falls es eine offene Überdeckung $(U_i)_{i\in I}$ von $X$ gibt, für die jeder $\mathcal{O}_X\vert_{U_i}$-Modul $\mathcal{F}\vert_{U_i}$ frei ist. In diesem Fall definiert die lokal-konstante Funktion
		\[
			X \to \N \cup \{\infty\}, \; p \mapsto \rg_p(\mathcal{F}) \coloneqq \dim_{\kappa(p)}(\mathcal{F}(p))
		\]
		den \text{Rang} des lokal freien $\mathcal{O}_X$-Moduls $\mathcal{F}$. Falls $p \in U_i$ und $\mathcal{F}\vert_{U_i} \cong \bigoplus_{j\in J} \mathcal{O}_X\vert_{U_i}$ für ein $i \in I$, dann ist $\rg_p(\mathcal{F}) = \abs{J}$.
		Ist $\rg_p(\mathcal{F})< \infty$ für alle $p \in X$, so ist $\mathcal{F}$ \textbf{von endlichem Rang}. Ist $r = \rg_p(\mathcal{F})$ konstant für alle $p \in X$, so heißt $\mathcal{F}$ \textbf{lokal frei vom Rang} $r$. Ist $X$ zusammenhängend, so hat ein lokal freier $\mathcal{O}_X$-Modul $\mathcal{F}$ einen wohldefinierten Rang $\rg_{\mathcal{O}_X}(\mathcal{F}) \in \N \cup \{\infty\}$.
		\item Ein lokal freier $\mathcal{O}_X$-Modul von Rang $1$ heißt \textbf{invertierbare Garbe}.
	\end{enumerate}
\end{defn}

\nextmark{inverse Bildgarbe}
\begin{defn}
	Sei $f\colon X \to Y$ eine stetige Abbildung topologischer Räume. Für eine Garbe $\mathcal{G}$ auf $Y$ betrachten wir die Prägarbe
	\[
		U \mapsto \varinjlim_{\substackclap{f(U)\subseteq V\\V\subseteq Y \text{ offen}}} \, \mathcal{G}(V) = \frac{\{(V,s)\mid V \supseteq f(U),\; V \subseteq Y \text{ offen},\;s\in\mathcal{G}(V)\}}{(V,s)\sim(V',s') \Leftrightarrow \exists \;W \supseteq f(U),\; W \subseteq V \cap V' \text{ offen mit } s\vert_W = s'\vert_W}.
	\]
	Die \textbf{inverse Bildgarbe} $f^{-1}\mathcal{G}$ auf $X$ ist die dazu assoziierte Garbe. Die Konstruktion definiert einen kontravarianten Funktor
	\[
		f^{-1}\colon \Sh(Y) \to \Sh(X),\; \mathcal{F} \mapsto f^{-1}\mathcal{F}. 
	\]
\end{defn}

\nextmark{Adjunktion zwischen f\textasciicircum-1 und f\_*}
\begin{prop}
\label{prop:3.5}
	Sei $f\colon X \to Y$ stetig. Dann existiert für jede Garbe $\mathcal{F}$ auf $X$ und jede Garbe~$\mathcal{G}$ auf $Y$ eine Bijektion
	\[
            \Hom_{\Sh(X)}(f^{-1}\mathcal{G},\mathcal{F}) \overset{\cong}{\longto} \Hom_{\Sh(Y)}(\mathcal{G},f_*\mathcal{F}),
	\]
	welche natürlich in $\mathcal{F}$ und $\mathcal{G}$ ist. Man sagt $f^{-1}$ ist \textbf{linksadjungiert} zu $f_*$ und $f_*$ ist \textbf{rechtsadjungiert} zu $f^{-1}$
\end{prop}

\nextmark{Tensorprodukt von OX-Moduln, inverse Bildgarbe bei OX-Moduln}
\begin{kons}
	\begin{enumerate}[i)]
		\item Sei $(X,\mco_X)$ ein geringter Raum und seien $\mcf$ und $\mcg$ zwei $\mco_X$-Moduln auf~$X$. Dann definiert
		\[
			U \mapsto \mcf(U)\otimes_{\mco_X(U)}\mcg(U)
		\]
		eine Prägarbe auf $X$. Sei $\mcf\otimes_{\mco_X} \mcg$ die dazu assoziierte Garbe. Man sieht sofort, dass das \textbf{Tensorprodukt} $\mcf\otimes_{\mco_X} \mcg$ ein $\mco_X$-Modul ist.
		\item Sei $f\colon(X,\mco_X)\to(Y,\mco_Y)$ ein Morphismus geringter Räume und sei $\mcf$ ein $\mco_X$-Modul auf~$X$. Wir haben in \ref{defn:2.5} die direkte Bildgarbe $f_*\mcf$ definiert. Offenbar ist $f_*\mcf$ ein $f_*\mco_X$-Modul.
		\begin{proof}
			Sei $V$ offen in $Y$, dann gilt $f_*\mcf(V) = \mcf(f^{-1}V)$ und dies ist ein $f_*\mco_X(V) = \mco_X(f^{-1}V)$-Modul.
		\end{proof}
		Nach der Definition von Morphismen geringter Räume gibt es einen Homomorphismus $f^{\#}\colon \mco_Y \to f_*\mco_X$ von Ringgarben. Durch Verknüpfung sehen wir, dass die direkte Bildgarbe ein $\mco_Y$-Modul auf $Y$ ist. Beachte, dass $f_*$ ein kovarianter Funktor ist.
		\item Sei $f\colon (X,\mco_X) \to (Y,\mco_Y)$ ein Morphimus geringter Räume und $\mcg$ ein $\mco_Y$-Modul. Wir betrachten den geringten Raum $(X, f^{-1}\mco_Y)$, wobei die inverse Bildgarbe durch die zur Prägarbe
		\[
                        U \mapsto \varinjlim_{\substackclap{f(U)\subseteq V\\V\subseteq Y \text{ offen}}} \, \mco_Y(V)
		\]
		assoziierte Garbe definiert ist. Beachte, dass $f^{-1}\mco_Y$ eine Ringgarbe ist. Analog sei $f^{-1}\mcg$ die zur Prägrabe
		\[
                        U \mapsto \varinjlim_{\substackclap{f(U)\subseteq V\\V\subseteq Y \text{ offen}}} \, \mathcal{G}(V)
		\]
		assoziierte Garbe. Dann erhalten wir $f^{-1}\mcg$ als $f^{-1}\mco_Y$-Modul. Wieder haben wir einen Homomorphismus $f^{\#}\colon \mco_Y \to f_*\mco_X$ von Ringgarben. Mit Hilfe der Adjunktion aus Proposition~\ref{prop:3.5} erhalten wir einen Homomorphismus $f^{-1}\mco_Y \to \mco_X$ von Ringgarben. Wir definieren das \textbf{inverse Bild} der Modulgarbe $\mcg$ als
		\[
			f^*\mcg \coloneqq f^{-1}\mcg \otimes_{f^{-1}\mco_Y}\mco_X.
		\]
		Indem wir von rechts mit $\mco_X$ tensorieren, erhalten wir tatsächlich einen $\mco_X$-Modul.
                \begin{proof}[Beweisskizze]
			Aus der Modultheorie ist folgendes bekannt: Ist $M$ ein $A$-Modul und $\varphi\colon A \to B$ ein Ringhomomorphismus, dann wird $B$ durch
			\[
				a \cdot m \coloneqq \varphi(a) \cdot m
			\]
			zu einem $A$-Modul. Auf dem $A$-Modul $M\otimes_A B$ definieren wir eine $B$-Modulstruktur durch
			\[
				b\cdot(m\otimes a) \coloneqq m\otimes (a\cdot b).
			\]
			Dies machen wir genauso für Garben auf jeder offenen Menge
		\end{proof}
		Man beachtem dass $f^*$ ein kovarianter Funktor ist.
	\end{enumerate}
\end{kons}

\nextmark{Verträglichkeit von Tensorprodukt und inversem Bild mit Halmen}
\begin{lem}
	\begin{enumerate}[i)]
		\item Seien $(X,\mco_X)$ ein geringter Raum, $p\in X$ und $\mcf,\mcg$ zwei $\mco_X$-Moduln. Dann gilt
		\[
			(\mcf\otimes_{\mco_X}\mcg)_p = \mcf_p \otimes_{\mco_{X,p}} \mcg_p.
		\]
		\item Sei $f \colon (X, \mco_X) \to (Y, \mco_Y)$ ein Morphismus geringter Räume, $p \in X$ und $\mcg$ ein $\mco_Y$-Modul. Dann gilt
		\[
			(f^{-1}\mcg)_p = \mcg_{f(p)}
		\]
		und
		\[
			(f^*\mcg)_p = \mcg_{f(p)}\otimes_{\mco_{Y,f(p)}}\mco_{X,p},
		\]
		wobei $\mco_{Y,f(p)}\to \mco_{X,p}$ der Homomorphismus der Halme $f^{\#}_p$ aus Bemerkung~\ref{bem:2.9} ist.
		\begin{proof}
			Dies wird in den Übungen 3.2 und 3.3 gezeigt.
		\end{proof}
	\end{enumerate}
\end{lem}

\nextmark{Adjunktion zwischen f\textasciicircum* und f\_* (bei OX-Moduln)}
\begin{lem}
	Sei $f\colon (X,\mco_X) \to (Y,\mco_Y)$ ein Morphismus geringter Räume. Dann ist der Funktor $f^*$ linksdadjungiert zum Funktor $f_*$, das heißt für alle $\mco_X$-Moduln $\mcf$ und alle $\mco_Y$-Moduln~$\mcg$ gilt
	\[
		\Hom_{\mco_X}(f^*\mcg,\mcf) \cong \Hom_{\mco_Y}(\mcg,f_*\mcf)
	\]
	natürlich in $\mcf$ und $\mcg$.
	\begin{proof}[Beweisskizze]
		Dies beruht auf der Adjunktion aus Proposition~\ref{prop:3.5} und dem Tensorieren mit $\mco_X$.
	\end{proof}
\end{lem}
