%!TEX root = algebraische_geometrie_2.tex
% vim: tw=0 noet sts=8 sw=8

\chapter{Garben}
\label{chap:1}
Garben sind abstrakte Verallgemeinerungen von Funktionenräumen. Sie sind fundamental für das Studium von Mannigfaltigkeiten und Schemata.

$X$ sei ein topologischer Raum.

\nextmark{Prägarbe}
\begin{defn}
\label{defn:1.1}
	Eine \textbf{Prägarbe} $\mathcal{F}$ (von abelschen Gruppen) auf $X$ besteht aus folgenden Daten:
	\begin{enumerate}[a)]
		\item Für alle $U$ offen in $X$ sein $\mathcal{F}(U)$ eine abelsche Gruppe.
		\item Für alle $V \subseteq U$ offen in $X$ sei $\rho_{UV}\colon\mathcal{F}(U)\to\mathcal{F}(V)$ ein Homomorphismus.
		\item Es sei $\mathcal{F}(\emptyset) = 0$.
		\item Für alle $U$ offen in $X$ sei $\rho_{UU} = \id_{\mathcal{F}(U)}$.
		\item Für alle $W \subseteq V \subseteq U$ offen in $X$ sei $\rho_{UW} = \rho_{VW} \circ \rho_{UV}$.
	\end{enumerate}
	Die Elemente von $\mathcal{F}(U)$ heißen \textbf{Schnitte} von $\mathcal{F}$ über $U$. Der Homomorphismus $\rho_{UV}\colon\mathcal{F}(U)\to\mathcal{F}(V)$ heißt \textbf{Restriktionsabbildung} von $U$ auf die offene Teilmenge $V$ von $U$
\end{defn}

\begin{bem}
	Analog definiert man Prägarben von Ringen, Algebren oder Mengen, ...
\end{bem}

\nextmark{Garbe}
\begin{defn}
\label{defn:1.3}
	Eine Prägarbe $\mathcal{F}$ auf $X$ heißt \textbf{Garbe}, falls zusätzlich für jede offene Menge $U$ in $X$ und jede offene Überdeckung $U=\bigcup_{i \in I}V_i$ von $U$ folgendes gilt:
	\begin{enumerate}[a)]
		\setcounter{enumi}{5}
		\item Ist $s \in \mathcal{F}(U)$ und $\rho_{UV_i}(s) = 0$ für alle $i \in I$, so gilt bereits $s=0$.
		\item Sind $s_i \in \mathcal{F}(V_i)$ für alle $i \in I$ mit $\rho_{V_i V_i \cap V_J}(s_i) = \rho_{V_j V_i \cap V_J}(s_j)$ für alle $i,j \in I$, so gibt es ein $s \in \mathcal{F}(U)$ mit $\rho_{UV_i}(s) = s_i$ für alle $i \in I$.
	\end{enumerate}
	Eine Garbe ist also duch lokale Informationen vollständig bestimmt.
\end{defn}

\begin{bem}
	Nach f) ist der Schnitt $s$ in g) eindeutig bestimmt.
	\begin{proof}
		Sind $s, s'$ zwei solche Schnitte in g), so gilt:
		\[
			\rho_{UV_i}(s-s') = \rho_{UV_i}(s) - \rho_{UV_i}(s') \overset{\text{g)}}{=}s_i-s_i = 0 
		\]
		Also gilt nach f) schon $s-s'=0$ und damit $s=s'$.
	\end{proof}
\end{bem}

\nextmark{Garbe der reellwertigen Funktionen}
\begin{bsp}
\label{bsp:1.5}
	Sei $x$ ein topologischer Raum. Für $U$ offen in $X$ sei
	\[
		\mathcal{F}(U)\coloneqq \{f\colon U\to \R \mid f \text{ ist Funktion}\}.
	\]
	Dies ist eine Garbe (abelscher Gruppen und sogar $\R$-Algebren) und die Restirktionsabbildungen sind gegeben durch:
	\[
		\rho_{UV}\colon\mathcal{F}(U) \to \mathcal{F}(V),\; f \mapsto f\vert_V
	\]
	Die Menge der stetigen Funktionen $C(U)$ liefert eine \textbf{Untergarbe} $\mathcal{F}'$ von $\mathcal{F}$ ($\mathcal{F}'(U)\coloneqq C(U)$), das heißt $\mathcal{F}'$ ist auch eine Garbe, es gilt $\mathcal{F}'(U)\subseteq \mathcal{F}(U)$ für alle $U$ offen und für die Restriktionen ist folgendes Diagramm kommutativ:
	\begin{center}
		\begin{tikzcd}
			\mathcal{F}'(U) \arrow[hook]{r} \arrow{d}[swap]{\rho_{UV}} & \mathcal{F}(U)\arrow{d}{\rho_{UV}}\\
			\mathcal{F}'(V) \arrow[hook]{r} & \mathcal{F}(V)
		\end{tikzcd}
	\end{center}

\end{bsp}

\nextmark{konstante Prägarbe}
\begin{bsp}
	Sein $A$ eine fixierte abelsche Gruppe. Die zugehörige \textbf{konstante Prägarbe} $\mathcal{F}$ ist definiert durch:
	\begin{itemize}
		\item Es sei $\mathcal{F}(U) \coloneqq \begin{cases}A & \text{falls } U \neq \emptyset\\0& \text{falls } U = \emptyset\end{cases}$.
		\item Es sei $\rho_{UV} \coloneqq \begin{cases}\id_A & \text{falls } V \neq \emptyset\\0& \text{falls } V = \emptyset\end{cases}$.
	\end{itemize}
	Falls $X$ nicht zusammenhängend und $A \neq 0$ ist, dann ist $\mathcal{F}$ keine Garbe. Sei zum Beispiel $X=\{p,q\}$ mit der diskreten Topologie. Seien außerdem $U=\{p,q\}$, $V_1=\{p\}$, $V_2=\{q\}$. Dann gilt $\mathcal{F}(U)=\mathcal{F}(V_1)=\mathcal{F}(V_2) = A$ und $\mathcal{F}(\emptyset)=0$. Seien nun $s_1 \neq 0 \in \mathcal{F}(V_1)$ und $s_2 = 0 \in \mathcal{F}(V_2)$. Wäre $\mathcal{F}$ eine Garbe, dann gäbe es ein $s \in \mathcal{F}(U) = A$ mit $\rho_{UV_i}(s) = s_i$. Dies ist aber offenbar nicht der Fall.
\end{bsp}

\begin{bsp}
\label{bsp:1.7}
	Seien $X,S$ topologische Räume und $\pi\colon S\to X$ eine Abbildung mit folgenden Eigenschaften:
	\begin{enumerate}[a)]
		\setcounter{enumi}{8}
		\item $\pi$ ist surjektiv und ein lokaler Homöomorphismus.
		\item $\pi^{-1}(x)$ ist für alle $x\in X$ eine abelsche Gruppe.
		\item Sei $S\times_X S\coloneqq \{(s_1,s_2) \in S \times S \mid \pi(s_1)=\pi(s_2)\}$ das \textbf{Faserprodukt} über $X$ mit der von $S \times S$ induzierten Topologie. Dann induzieren die Addition und Invertierung aus j) stetige Abbildungen $S\times_X S \to S,\; (s_1,s_2) \mapsto s_1+s_2$, beziehungsweise $S \to S,\; s \mapsto -s$.
	\end{enumerate}
	Die Abbildung $\pi$ heißt \textbf{Projektion} und $\pi^{-1}(x)$ heißt \textbf{Faser} von $x$.
	\begin{itemize}
		\item Sei $U \subseteq X$ offen. Eine stetige Funktion $f\colon U \to S$ heißt \textbf{Schnitt}, wenn $\pi \circ f = \id_U$, das heißt für alle $x \in U$ gilt $f(x) \in \pi^{-1}(x)$.
		\item Es gibt einen kanonischen globalen Schnitt $X \to S, \; x \mapsto 0_x \in f^{-1}(x)$, den wir \textbf{Nullschnitt} nennen.
		\item Mit $\Gamma(U,S)$ bezeichnen wir den Raum der Schnitte von $S$ über $U$, wir setzen also
		\[
			\Gamma(U,S) \coloneqq \{f\colon U\to S \mid f \text{ stetig},\; \pi\circ f = \id_U\}.
		\]
	\end{itemize}
	\textbf{Behauptung:} Die Abbildung $U \mapsto \Gamma(U,S)$ zusammen mit der Restriktion $\rho_{UV}(f) \coloneqq f\vert_V$ ist eine Garbe.
	\begin{proof}
		Dies ist klar.
	\end{proof}
\end{bsp}

\begin{bem}
	Weil $\pi$ ein lokaler Homöomorphismus ist, muss jeder Schnitt eine offene Abbildung sein (das heißt das Bild einer offenen Teilmenge ist offen). Falls zwei Schnitte in $x \in X$ übereinstimmen, dann stimmen sie auch auf einer Umgebung von $x$ überein.
\end{bem}

\begin{bsp*}
	Die Abbildung $\R \to \{z\in \C \mid \abs{z} = 1\},\; t \mapsto e^{2 \pi i t}$ ist eine Abbildung wie in Beispiel~\ref{bsp:1.7}.
\end{bsp*}

\begin{bem}
	Das Beispiel~\ref{bsp:1.7} erklärt die abstrakten Begriffe aus Definition~\ref{defn:1.1}. Wir werden sehen, dass jede Garbe durch einen topologischen Raum $S$ und eine Abbildung $\pi\colon S \to X$ wie in Beispiel~\ref{bsp:1.7} dargestellt werden kann.
\end{bem}

\begin{bsp}
	In Beispiel~\ref{bsp:1.5} wählen wir ein $x \in X$. Wir definieren $f\sim g$, falls es eine Umgebung $U$ von $x$ gibt mit $f\vert_U = g\vert_U$. Dies liefert eine Äquivalenzrelation auf der Menge der reellwertigen Funktionen, die auf einer Umgebung von $x$ definiert sind. Der \textbf{Halm} $\mathcal{F}_x$ ist definiert als Raum der Äquivalenzklassen bezüglich dieser Äquivalenzrelation.
\end{bsp}

\nextmark{Halm}
\begin{defn}
	Sei $\mathcal{F}$ eine Prägarbe auf $X$, dann verallgemeinern wir die obige Konstruktion. Sei $x \in X$. Wir betrachten die Menge $\{(U,s)\mid s \in \mathcal{F}(U),\; U \text{ offene Umgebung von } x\}$. Wir definieren auf dieser Menge eine Relation auf folgende Weise: Es gelte	$(U,s) \sim (V,t)$ genau dann, wenn es eine offene Umgebung $W\subseteq U \cap V$ von $x$ mit $\rho_{UW}(s) = \rho_{VW}(t)$ gibt. Man zeigt leicht, dass dies eine Äquivalenzrelation ist. Der \textbf{Halm} $\mathcal{F}_x$ ist definiert als der Raum der Äquivalenzklassen bezüglich dieser Äquivalenzrelation. Dies ist eine abelsche Gruppe:
	\[
		[(U_1,s_1)] + [(U_2,s_2)] = [(U_1 \cap U_2, \rho_{U_1U_1\cap U_2}(s_1) + \rho_{U_2U_1\cap U_2}(s_2)].
	\]
	Wir schreiben auch $s_x$ anstatt von $[(U,s)] \in \mathcal{F}_x$.
\end{defn}

\stepcounter{thm}

\nextmark{Morphismus von (Prä-)Garben}
\begin{defn}
	Ein \textbf{Homomorphismus} $\varphi \colon \mathcal{F} \to \mathcal{G}$ \textbf{von (Prä-)Garben} auf $x$ ist eine Familie von Homomorphismen $\varphi_U \colon \mathcal{F}(U) \to \mathcal{G}(U)$ abelscher Gruppen für alle $U$ offen in $X$, sodass
	\begin{center}
		\begin{tikzcd}
			\mathcal{F}(U) \arrow{r}{\varphi_U} \arrow{d}[swap]{\rho_{UV}} & \mathcal{G}(U)\arrow{d}{\rho_{UV}}\\
			\mathcal{F}(V) \arrow{r}[swap]{\varphi_V} & \mathcal{G}(V)
		\end{tikzcd}
	\end{center}
	für alle $V \subseteq U$ offen in $X$ kommutiert.

	Wir können Homomorphismen $\varphi \colon \mathcal{F}\to \mathcal{G}$ und $\psi \colon \mathcal{G} \to \mathcal{H}$ von (Prä-)Garben zu einem Homomorphismus $\psi\circ \varphi \colon \mathcal{F} \to \mathcal{H}$ verknüpfen. Damit können wir auch Isomorphismen von (Prä-)Garben definieren.

	Die Prägarben, beziehungsweise Garben auf einem topologischen Raum $X$ bilden eine Kategorie, die wir mit $\PSh(X)$, beziehungsweise $\Sh(X)$ bezeichnen.
\end{defn}

\nextmark{Prüfbarkeit von Isomorphie auf Halmen}
\begin{prop}
	Sei $\varphi \colon \mathcal{F} \to \mathcal{G}$ ein Homomorphismus von Garben auf $X$. Dann ist $\varphi$ genau dann ein Isomorphismus von Garben, wenn $\varphi_x \colon \mathcal{F}_x \to \mathcal{G}_x,\; s_x \mapsto \varphi_x(s_x) \coloneqq [(U,\varphi\vert_U(s))]$ für alle $x \in X$ ein Isomorphismus abelscher Gruppen ist.
	\begin{proof}
		Dies ist eine einfache Übung.
	\end{proof}
	Beachte, dass diese Aussage nicht für Prägarben gilt.
\end{prop}

\begin{bem}
\label{bem:1.15}
	Wir zeigen nun, dass es zu einer gegebene Prägarbe $\mathcal{F}$ auf dem topologischen Raum $X$ eine kanonische Überlagerung $\pi\colon S \to X$ wie in Beispiel~\ref{bsp:1.7} gibt.

	Wir definieren
	\[
		S\coloneqq \coprod_{x\in X} \mathcal{F}_x.
	\]
	Weiter sei $\pi$ gegeben durch
	\[
		\pi\colon S \to X,\; s_x\in \mathcal{F}_x \mapsto x.
	\]
	Für jedes $U$ offen in $X$ und jedes $s \in \mathcal{F}(U)$ definieren wir
	\[
		\overline{s}\colon U \to S,\; x \mapsto s_x = [(U,s)] \in \mathcal{F}_x \subseteq S.
	\]
	Die Topologie von $S$ ist durch die Basis
	\[
		B \coloneqq \{\overline{s}(U) \mid U \text{ offen in } X, s \in \mathcal{F}(U)\}
	\]
	gegeben. Es ist leicht zu sehen, dass $B$ tatsächlich die Basis einer Topologie auf $S$ ist. Wir überzeugen uns ebenfalls leicht, dass $\pi\colon S \to X$ die Voraussetzungen aus Beispiel~\ref{bsp:1.7} erfüllt, das heißt $\pi$ ist eine topologische Überlagerung und die Fasern sind abelsche Gruppen mit gewissen Stetigkeitseigenschaften. Es gilt
	\[
		\overline{s} \in \Gamma(U,S) \coloneqq \{\gamma\colon U \to S \mid \gamma \text{ stetig},\; \pi \circ \gamma = \id_U\}.
	\]
\end{bem}

\nextmark{assoziierte Garbe}
\begin{defn}
	Wir bezeichnen die Garbe $U \mapsto \Gamma(U,S)$ mit $\mathcal{F}^+$. Sie heißt zu $\mathcal{F}$ \textbf{assoziierte Garbe}. Wir haben einen kanonischen Homomorphismus
	\[
		\theta\colon \mathcal{F} \to \mathcal{F}^+,\; \underbrace{s}_{\in \mathcal{F}(U)} \mapsto \underbrace{\overline{s}}_{\in \mathcal{F}^+(U)=\Gamma(U,S)}.
	\]
	In Übung~1.2 wird gezeigt, dass $\theta$ einen Isomorphismus $\theta_x \colon \mathcal{F}_x \overset{\sim}{\to} \mathcal{F}^+_x$ der Halme induziert.
\end{defn}

\begin{prop}
\label{prop:1.17}
	Falls $\varphi \colon \mathcal{F} \to \mathcal{G}$ ein Homomorphismus von Prägarben ist, dann gibt es genau einen Homomorphismus $\varphi^+\colon\mathcal{F}^+\to \mathcal{G}^+$ von Garben, für den das Diagramm
	\begin{center}
		\begin{tikzcd}
			\mathcal{F} \arrow{r}{\varphi} \arrow{d}[swap]{\theta} & \mathcal{G} \arrow{d}{\theta}\\
			\mathcal{F}^+ \arrow{r}[swap]{\varphi^+} & \mathcal{G}^+
		\end{tikzcd}
	\end{center}
	kommutiert.
	\begin{proof}[Beweisskizze]
		Sei $\pi\colon S \to X$ (beziehungsweise $\pi\colon T \to X$) die topologische Überlagerung, die zu $\mathcal{F}$ (beziehungsweise $\mathcal{G}$) gehört wie in Bem~\ref{bem:1.15}. Wir zeigen zuerst, dass es genau eine stetige Abbildung $\psi \colon S \to T$ mit $\psi \circ \overline{s} = \overline{\varphi(s)}$ für alle $U$ offen in $X$ und alle $s \in \mathcal{F}(U)$ gibt, für die das Diagramm
		\begin{center}
			\begin{tikzcd}
				S \arrow{rr}{\psi} \arrow{rd}[swap]{\pi} & & T \arrow{dl}{\pi}\\
				& X
			\end{tikzcd}
		\end{center}
		kommutiert.

		Für $s_x = [(U,s)] \in \mathcal{F}_x \subseteq S$ definieren wir $\psi(s_x) \coloneqq [(U,\varphi_U(s))] \in \mathcal{G}_x$. Dies ist wohldefiniert und erfüllt das Gewünschte. Die Eindeutigkeit ist durch die Konstruktion klar.

		Dann definieren wir $\varphi^+\colon\mathcal{F}^+\to\mathcal{G}^+$ durch
		\[
			\varphi_U^+\colon \mathcal{F}^+(U) = \Gamma(U,S) \to \mathcal{G}^+(U) = \Gamma(U,T),\; \gamma \mapsto \psi \circ \gamma.
		\]
		Damit erhalten wir einen Garbenhomomorphismus mit der gewünschten Eigenschaft. Die Eindeutigkeit von $\varphi^+$ folgt aus der Tatsache, dass $\mathcal{F}_x \cong \mathcal{F}^+_x$ und $\mathcal{G}_x \cong \mathcal{G}^+_x$ gilt. Also muss $\varphi^+$ auf den Halmen durch $\varphi$ eindeutig bestimmt sein. Weil $\mathcal{F}^+$ und $\mathcal{G}^+$ Garben sind, folgt sofort aus den Garbeneigenschaften f) und g), dass damit auch $\varphi^+$ durch $\varphi$ eindeutig bestimmt ist.
	\end{proof}
\end{prop}

\begin{kor}[Universelle Eigenschaft \texorpdfstring{von $\mathcal{F}^+$}{der assoziierten Garbe}]
	Sei $\mathcal{F}$ eine Prägarbe auf $X$. Für jede Garbe $\mathcal{G}$ auf $X$ und jeden Homomorphismus $\varphi\colon \mathcal{F} \to \mathcal{G}$ gibt es genau einen Homomorphismus $\varphi_+\colon \mathcal{F}^+ \to \mathcal{G}$, für den das Diagramm
	\begin{center}
		\begin{tikzcd}
			\mathcal{F} \arrow{r}{\varphi} \arrow{d}[swap]{\theta} & \mathcal{G}\\
			\mathcal{F}^+ \arrow{ur}[swap]{\varphi_+}
		\end{tikzcd}
	\end{center}
	kommutiert.
	\begin{proof}
		Dies ist ein Spezialfall von Proposition~\ref{prop:1.17}, denn für eine Garbe $\mathcal{G}$ gilt $\mathcal{G} \overset{\theta}{\simto}\mathcal{G}^+$.
	\end{proof}
\end{kor}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "algebraische_geometrie_2"
%%% End: 
